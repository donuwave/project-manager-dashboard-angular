:host{
  display:block;
  padding:24px;
  color: var(--p-text-color);
  font-family: inherit; /* берём из :root */
}

/* сетка доски */
.board{
  display:grid;
  grid-template-columns:repeat(3,minmax(260px,1fr));
  gap:24px;
  align-items:start;
}

/* колонка */
.column{
  background: var(--p-surface-0);
  border-radius:16px;
  box-shadow: 0 6px 24px rgba(16,24,40,.06);
  padding:12px 12px 16px;
  position:relative;
}

/* верхняя цветная полоска */
.column .accent{ height:4px; border-radius:3px; margin:0 8px 8px }
.column[data-color="purple"] .accent{ background: var(--p-primary-color) }
.column[data-color="orange"] .accent{ background: var(--p-warning-color) }
.column[data-color="green"]  .accent{ background: var(--p-success-color) }

/* шапка колонки */
.col-header{ display:flex; justify-content:space-between; align-items:center; padding:4px 8px 8px }
.col-header .title{ font-weight:600; display:flex; align-items:center; gap:8px }
.col-header .dot{ width:8px; height:8px; border-radius:50% }
.column[data-color="purple"] .col-header .dot{ background: var(--p-primary-color) }
.column[data-color="orange"] .col-header .dot{ background: var(--p-warning-color) }
.column[data-color="green"]  .col-header .dot{ background: var(--p-success-color) }

.count{
  background: var(--p-surface-100);
  color: var(--p-text-color-secondary);
  border-radius:999px;
  font-size:12px;
  padding:2px 8px;
}
.add{
  width:24px; height:24px; border-radius:8px;
  background: var(--p-surface-100);
  cursor:pointer; line-height:1; font-weight:700; border:0;
  color: var(--p-text-color);
}
.add:hover{ background: var(--p-surface-200) }
.add:focus-visible{ box-shadow: var(--p-focus-ring) }

/* список карточек */
.list{ display:flex; flex-direction:column; gap:12px; min-height:120px; padding:4px 4px 8px }

/* карточка */
.card{
  background: var(--p-surface-0);
  border-radius:16px;
  box-shadow: 0 6px 24px rgba(16,24,40,.06);
  padding:14px 14px 12px;
  position:relative;
}
.card.has-cover{ padding-top:0 }
.cover{
  width:100%; height:140px; object-fit:cover;
  border-radius:12px 12px 0 0; display:block; margin-bottom:8px
}

/* бейджи приоритета: мягкий фон + основной цвет из палитры */
.badge{
  position:absolute; top:10px; left:10px;
  font-size:12px; padding:4px 8px; border-radius:8px;
}
.badge.low{
  color: var(--p-warning-color);
  background: color-mix(in srgb, var(--p-warning-color) 18%, transparent);
}
.badge.high{
  color: var(--p-danger-color);
  background: color-mix(in srgb, var(--p-danger-color) 18%, transparent);
}
.badge.completed{
  color: var(--p-success-color);
  background: color-mix(in srgb, var(--p-success-color) 18%, transparent);
}

/* текст */
.title{ margin:2px 0 4px; font-size:18px; color: var(--p-text-color) }
.desc{
  margin:0 0 8px;
  font-size:14px;
  color: var(--p-text-color-secondary)
}

/* подвал карточки */
.meta{ display:flex; justify-content:space-between; align-items:center; gap:8px }
.faces{ display:flex }
.faces img,.faces .initials{
  width:28px; height:28px; border-radius:50%; border:2px solid var(--p-surface-0);
  box-shadow:0 2px 6px rgba(0,0,0,.06); margin-left:-8px; display:inline-flex;
  align-items:center; justify-content:center; background: var(--p-surface-200);
  font-size:12px; font-weight:700; color: var(--p-text-color)
}
.faces img:first-child,.faces .initials:first-child{ margin-left:0 }

.stats{ display:flex; gap:14px; color: var(--p-text-color-secondary); font-size:13px }
.stat{ display:inline-flex; align-items:center; gap:6px }

/* CDK Drag&Drop */
.cdk-drag-preview{ box-sizing:border-box; border-radius:16px; box-shadow:0 8px 28px rgba(16,24,40,.14) }
.cdk-drag-placeholder{
  opacity:.5; border:2px dashed var(--p-content-border-color);
  border-radius:16px; min-height:88px; background:transparent
}
.cdk-drop-list.cdk-drop-list-dragging .card:not(.cdk-drag-placeholder){ opacity:.9 }

/* адаптив */
@media (max-width: 900px){ .board{ grid-template-columns:1fr } }
